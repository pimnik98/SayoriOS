<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SayoriOS: Исходный файл kernel/include/drv/pci.h</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SayoriOS
   &#160;<span id="projectnumber">0.3.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Поиск','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d9/d97/pci_8h_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">pci.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="../../dc/d54/common_8h.html">common.h</a>&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#define CLASS_DEVICE_TOO_OLD 0x00   </span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define CLASS_MASS_STORAGE 0x01     </span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#define CLASS_NETWORK_CTRLR 0x02    </span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#define CLASS_DISPLAY 0x03          </span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#define CLASS_MULTIMEDIA 0x04       </span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define CLASS_MEMORY 0x05           </span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#define CLASS_BRIDGE 0x06           </span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#define CLASS_SCC 0x07              </span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#define CLASS_SYSTEM 0x08           </span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#define CLASS_INPUT 0x09            </span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#define CLASS_DOCK 0x0A             </span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define CLASS_PROCESSOR 0x0B        </span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#define CLASS_SERIAL_BUS 0x0C       </span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#define CLASS_WIRELESS 0x0D         </span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#define CLASS_INTELLIGENTIO 0x0E    </span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#define CLASS_SATELLITE  0x0F       </span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#define CLASS_ENCRYPT 0x10          </span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#define CLASS_SIGNAL_PROC 0x11      </span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#define CLASS_PROC_ACCEL 0x12       </span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#define CLASS_NO_ESS_INS 0x13       </span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#define CLASS_CO_CPU 0x40           </span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#define PCI_ADDRESS_PORT 0xCF8      </span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#define PCI_DATA_PORT 0xCFC         </span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#define PCI_VENDOR_NO_DEVICE 0xFFFF </span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#define PCI_BAR0 0x10</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#define PCI_BAR1 0x14</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#define PCI_BAR2 0x18</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#define PCI_BAR3 0x1C</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#define PCI_BAR4 0x20</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#define PCI_BAR5 0x24</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html">   52</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d7/d00/structpci__header__t.html">pci_header_t</a> {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    uint16_t vendor_id;             </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#adc401e0e7465eda38f9444eeb6169a10">   54</a></span>&#160;    uint16_t <a class="code" href="../../d7/d00/structpci__header__t.html#adc401e0e7465eda38f9444eeb6169a10">device_id</a>;             </div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#ab01c6e281b316b1770d5646f3d3101c4">   55</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#ab01c6e281b316b1770d5646f3d3101c4">revision</a>;               </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#ab8598cf170c4ba14dea81a515c54a9e6">   56</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#ab8598cf170c4ba14dea81a515c54a9e6">prog_if</a>;                </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#a5dae77d7734084220cc3eacd2ae44d57">   57</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#a5dae77d7734084220cc3eacd2ae44d57">subclass_id</a>;            </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#aea9601801e5892f8744c06c56586cd58">   58</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#aea9601801e5892f8744c06c56586cd58">class_id</a>;               </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#a3c193c14bce8c62f141d10ba655d0290">   59</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#a3c193c14bce8c62f141d10ba655d0290">cache_line_size</a>;        </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#a3c2d82e294e03d7ece68e05599f3a22c">   60</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#a3c2d82e294e03d7ece68e05599f3a22c">latency_timer</a>;          </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#a5e494a9c890f7cea39c2c0c65556a084">   61</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#a5e494a9c890f7cea39c2c0c65556a084">hdr_type</a>;               </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#a8d48dac06bef0723bce81846b48d9c63">   62</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#a8d48dac06bef0723bce81846b48d9c63">bist</a>;                   </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#ad2d7aee2e9a6dc39ce23b6933f83a47a">   63</a></span>&#160;    uint32_t <a class="code" href="../../d7/d00/structpci__header__t.html#ad2d7aee2e9a6dc39ce23b6933f83a47a">bar</a>[6];                </div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#ae9e750420392a17bc12305398622c50d">   64</a></span>&#160;    uint32_t <a class="code" href="../../d7/d00/structpci__header__t.html#ae9e750420392a17bc12305398622c50d">cardbus_cis_ptr</a>;       </div>
<div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#afb7bfbdce590742fe0f4cbff32ce984b">   65</a></span>&#160;    uint16_t <a class="code" href="../../d7/d00/structpci__header__t.html#afb7bfbdce590742fe0f4cbff32ce984b">subsys_vendor</a>;         </div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#a81cb864fb997019e996e667ddd26c493">   66</a></span>&#160;    uint16_t <a class="code" href="../../d7/d00/structpci__header__t.html#a81cb864fb997019e996e667ddd26c493">subsys_id</a>;             </div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#af4cccb179cc4d33058713c1ace3ab78d">   67</a></span>&#160;    uint32_t <a class="code" href="../../d7/d00/structpci__header__t.html#af4cccb179cc4d33058713c1ace3ab78d">expansion_rom</a>;         </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#affa857d10f1958fe0d39fd2cb8ac8cf0">   68</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#affa857d10f1958fe0d39fd2cb8ac8cf0">capatibilities</a>;         </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#a72aca6ea6d8153b28ea8f139b932ec3e">   69</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#a72aca6ea6d8153b28ea8f139b932ec3e">reserved</a>[3];            </div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#ae673672452e4741c4ab7c174af880a87">   70</a></span>&#160;    uint32_t <a class="code" href="../../d7/d00/structpci__header__t.html#ae673672452e4741c4ab7c174af880a87">reserved2</a>;             </div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#ad3387176ec04a336a49954c6678fb0b8">   71</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#ad3387176ec04a336a49954c6678fb0b8">int_line</a>;               </div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#af375eca62d4311018eca701cf7d128e7">   72</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#af375eca62d4311018eca701cf7d128e7">int_pin</a>;                </div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#a0e4f221e6aa7ec4680fb99aa59bfa8e3">   73</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#a0e4f221e6aa7ec4680fb99aa59bfa8e3">min_grant</a>;              </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../d7/d00/structpci__header__t.html#a0f51085ac990b4de774478638673b7d6">   74</a></span>&#160;    uint8_t <a class="code" href="../../d7/d00/structpci__header__t.html#a0f51085ac990b4de774478638673b7d6">max_latency</a>;            </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;} <a class="code" href="../../d7/d00/structpci__header__t.html">pci_header_t</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="../../da/dd5/structpci__device__t.html">   77</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    uint16_t vendor_id;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    uint16_t device_id;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    uint16_t klass;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    uint16_t subclass;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    uint16_t bus;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    uint16_t slot;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    uint16_t func;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    uint16_t hdrtype;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;} <a class="code" href="../../da/dd5/structpci__device__t.html">pci_device_t</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;uint16_t <a class="code" href="../../d1/de8/pci_8c.html#a142db44f668cf69c27a771e1cf3659d4">pci_read_confspc_word</a>(uint8_t bus, uint8_t slot, uint8_t <span class="keyword">function</span>, uint8_t offset);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;uint8_t <a class="code" href="../../d1/de8/pci_8c.html#aa42152d97aae335c95c4bbf897a926f0">pci_get_class</a>(uint8_t bus, uint8_t slot, uint8_t <span class="keyword">function</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;uint8_t <a class="code" href="../../d1/de8/pci_8c.html#af064641f19af68e5534d51f2a5db2548">pci_get_subclass</a>(uint8_t bus, uint8_t slot, uint8_t <span class="keyword">function</span>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;uint8_t <a class="code" href="../../d1/de8/pci_8c.html#a576d1e6f360a55679b8dbfad81e6ce6a">pci_get_hdr_type</a>(uint8_t bus, uint8_t slot, uint8_t <span class="keyword">function</span>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;uint16_t <a class="code" href="../../d1/de8/pci_8c.html#a5c9d7b90a196096b221f0d00ef88554a">pci_get_vendor</a>(uint8_t bus, uint8_t slot, uint8_t <span class="keyword">function</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;uint16_t <a class="code" href="../../d1/de8/pci_8c.html#ab03b13e7b31c5fab3a845cf2ba4ce6b8">pci_get_device</a>(uint8_t bus, uint8_t slot, uint8_t <span class="keyword">function</span>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/de8/pci_8c.html#a6ffafecf2dd056dfd611f9a29f621dc9">pci_get_device_type</a>(uint8_t klass, uint8_t subclass);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d1/de8/pci_8c.html#a76fae8180a8283f649f152862026f8e1">pci_get_vendor_name</a>(uint16_t vendor);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;uint32_t <a class="code" href="../../d1/de8/pci_8c.html#a0dcc9a4e6cb41b128ad8532a19097cff">pci_get_bar</a>(uint8_t hdrtype, uint8_t bus, uint8_t slot, uint8_t func, uint8_t bar_number, uint8_t *bar_type);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d1/de8/pci_8c.html#a1b69d81b60da8b097808c1ac8bb4eba3">pci_find_device</a>(uint16_t vendor, uint16_t device, uint8_t *bus_ret, uint8_t *slot_ret, uint8_t *func_ret);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="keywordtype">void</span> pci_print_list();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="keywordtype">void</span> pci_write(uint8_t bus, uint8_t slot, uint8_t func, uint32_t offset, uint32_t value);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="keywordtype">void</span> pci_find_device_by_class_and_subclass(uint16_t <span class="keyword">class</span>, uint16_t subclass, uint16_t *vendor_ret, uint16_t *deviceid_ret,</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                                      uint8_t *bus_ret, uint8_t *slot_ret, uint8_t *func_ret);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="keywordtype">void</span> pci_enable_bus_mastering(uint8_t bus, uint8_t slot, uint8_t func);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;uint32_t <a class="code" href="../../d1/de8/pci_8c.html#a960a104e0db5c83f39da7e78911fd58b">pci_read32</a>(uint8_t bus, uint8_t slot, uint8_t <span class="keyword">function</span>, uint8_t offset);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="keywordtype">void</span> pci_scan_everything();</div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="../../dc/d54/common_8h.html">common.h</a></div><div class="ttdoc">Основные определения ядра</div></div>
<div class="ttc" id="apci_8c_html_a0dcc9a4e6cb41b128ad8532a19097cff"><div class="ttname"><a href="../../d1/de8/pci_8c.html#a0dcc9a4e6cb41b128ad8532a19097cff">pci_get_bar</a></div><div class="ttdeci">uint32_t pci_get_bar(uint8_t hdrtype, uint8_t bus, uint8_t slot, uint8_t func, uint8_t bar_number, uint8_t *bar_type)</div><div class="ttdoc">[PCI] ???</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00318">pci.c:318</a></div></div>
<div class="ttc" id="apci_8c_html_a142db44f668cf69c27a771e1cf3659d4"><div class="ttname"><a href="../../d1/de8/pci_8c.html#a142db44f668cf69c27a771e1cf3659d4">pci_read_confspc_word</a></div><div class="ttdeci">uint16_t pci_read_confspc_word(uint8_t bus, uint8_t slot, uint8_t function, uint8_t offset)</div><div class="ttdoc">[PCI] Чтение 16-битных полей из пространства механизма конфигураций 1</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00032">pci.c:32</a></div></div>
<div class="ttc" id="apci_8c_html_a1b69d81b60da8b097808c1ac8bb4eba3"><div class="ttname"><a href="../../d1/de8/pci_8c.html#a1b69d81b60da8b097808c1ac8bb4eba3">pci_find_device</a></div><div class="ttdeci">void pci_find_device(uint16_t vendor, uint16_t device, uint8_t *bus_ret, uint8_t *slot_ret, uint8_t *func_ret)</div><div class="ttdoc">[PCI] Поиск устройства по ID-поставшика и устройства</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00362">pci.c:362</a></div></div>
<div class="ttc" id="apci_8c_html_a576d1e6f360a55679b8dbfad81e6ce6a"><div class="ttname"><a href="../../d1/de8/pci_8c.html#a576d1e6f360a55679b8dbfad81e6ce6a">pci_get_hdr_type</a></div><div class="ttdeci">uint8_t pci_get_hdr_type(uint8_t bus, uint8_t slot, uint8_t function)</div><div class="ttdoc">[PCI] Получение HDR-тип устройства</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00243">pci.c:243</a></div></div>
<div class="ttc" id="apci_8c_html_a5c9d7b90a196096b221f0d00ef88554a"><div class="ttname"><a href="../../d1/de8/pci_8c.html#a5c9d7b90a196096b221f0d00ef88554a">pci_get_vendor</a></div><div class="ttdeci">uint16_t pci_get_vendor(uint8_t bus, uint8_t slot, uint8_t function)</div><div class="ttdoc">[PCI] Получение ID-поставщика</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00256">pci.c:256</a></div></div>
<div class="ttc" id="apci_8c_html_a6ffafecf2dd056dfd611f9a29f621dc9"><div class="ttname"><a href="../../d1/de8/pci_8c.html#a6ffafecf2dd056dfd611f9a29f621dc9">pci_get_device_type</a></div><div class="ttdeci">const char * pci_get_device_type(uint8_t klass, uint8_t subclass)</div><div class="ttdoc">[PCI] Получение классификации устройства</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00281">pci.c:281</a></div></div>
<div class="ttc" id="apci_8c_html_a76fae8180a8283f649f152862026f8e1"><div class="ttname"><a href="../../d1/de8/pci_8c.html#a76fae8180a8283f649f152862026f8e1">pci_get_vendor_name</a></div><div class="ttdeci">const char * pci_get_vendor_name(uint16_t vendor)</div><div class="ttdoc">[PCI] Получение названия поставщика</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00295">pci.c:295</a></div></div>
<div class="ttc" id="apci_8c_html_a960a104e0db5c83f39da7e78911fd58b"><div class="ttname"><a href="../../d1/de8/pci_8c.html#a960a104e0db5c83f39da7e78911fd58b">pci_read32</a></div><div class="ttdeci">uint32_t pci_read32(uint8_t bus, uint8_t slot, uint8_t function, uint8_t offset)</div><div class="ttdoc">Чтение данных из шины PCI.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00054">pci.c:54</a></div></div>
<div class="ttc" id="apci_8c_html_aa42152d97aae335c95c4bbf897a926f0"><div class="ttname"><a href="../../d1/de8/pci_8c.html#aa42152d97aae335c95c4bbf897a926f0">pci_get_class</a></div><div class="ttdeci">uint8_t pci_get_class(uint8_t bus, uint8_t slot, uint8_t function)</div><div class="ttdoc">[PCI] Получение основной категории устройства</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00217">pci.c:217</a></div></div>
<div class="ttc" id="apci_8c_html_ab03b13e7b31c5fab3a845cf2ba4ce6b8"><div class="ttname"><a href="../../d1/de8/pci_8c.html#ab03b13e7b31c5fab3a845cf2ba4ce6b8">pci_get_device</a></div><div class="ttdeci">uint16_t pci_get_device(uint8_t bus, uint8_t slot, uint8_t function)</div><div class="ttdoc">[PCI] Получение ID-Устройства</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00269">pci.c:269</a></div></div>
<div class="ttc" id="apci_8c_html_af064641f19af68e5534d51f2a5db2548"><div class="ttname"><a href="../../d1/de8/pci_8c.html#af064641f19af68e5534d51f2a5db2548">pci_get_subclass</a></div><div class="ttdeci">uint8_t pci_get_subclass(uint8_t bus, uint8_t slot, uint8_t function)</div><div class="ttdoc">[PCI] Получение под-категории устройства</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/de8/pci_8c_source.html#l00230">pci.c:230</a></div></div>
<div class="ttc" id="astructpci__device__t_html"><div class="ttname"><a href="../../da/dd5/structpci__device__t.html">pci_device_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00077">pci.h:77</a></div></div>
<div class="ttc" id="astructpci__header__t_html"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html">pci_header_t</a></div><div class="ttdoc">Структура устройства</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00052">pci.h:52</a></div></div>
<div class="ttc" id="astructpci__header__t_html_a0e4f221e6aa7ec4680fb99aa59bfa8e3"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#a0e4f221e6aa7ec4680fb99aa59bfa8e3">pci_header_t::min_grant</a></div><div class="ttdeci">uint8_t min_grant</div><div class="ttdoc">ПИН-код прерывания</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00073">pci.h:73</a></div></div>
<div class="ttc" id="astructpci__header__t_html_a0f51085ac990b4de774478638673b7d6"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#a0f51085ac990b4de774478638673b7d6">pci_header_t::max_latency</a></div><div class="ttdeci">uint8_t max_latency</div><div class="ttdoc">???</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00074">pci.h:74</a></div></div>
<div class="ttc" id="astructpci__header__t_html_a3c193c14bce8c62f141d10ba655d0290"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#a3c193c14bce8c62f141d10ba655d0290">pci_header_t::cache_line_size</a></div><div class="ttdeci">uint8_t cache_line_size</div><div class="ttdoc">Категория устройства</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00059">pci.h:59</a></div></div>
<div class="ttc" id="astructpci__header__t_html_a3c2d82e294e03d7ece68e05599f3a22c"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#a3c2d82e294e03d7ece68e05599f3a22c">pci_header_t::latency_timer</a></div><div class="ttdeci">uint8_t latency_timer</div><div class="ttdoc">Размер строки кэша</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00060">pci.h:60</a></div></div>
<div class="ttc" id="astructpci__header__t_html_a5dae77d7734084220cc3eacd2ae44d57"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#a5dae77d7734084220cc3eacd2ae44d57">pci_header_t::subclass_id</a></div><div class="ttdeci">uint8_t subclass_id</div><div class="ttdoc">Положение дел (???) Prog IF.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00057">pci.h:57</a></div></div>
<div class="ttc" id="astructpci__header__t_html_a5e494a9c890f7cea39c2c0c65556a084"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#a5e494a9c890f7cea39c2c0c65556a084">pci_header_t::hdr_type</a></div><div class="ttdeci">uint8_t hdr_type</div><div class="ttdoc">Таймер задержки</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00061">pci.h:61</a></div></div>
<div class="ttc" id="astructpci__header__t_html_a72aca6ea6d8153b28ea8f139b932ec3e"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#a72aca6ea6d8153b28ea8f139b932ec3e">pci_header_t::reserved</a></div><div class="ttdeci">uint8_t reserved[3]</div><div class="ttdoc">???</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00069">pci.h:69</a></div></div>
<div class="ttc" id="astructpci__header__t_html_a81cb864fb997019e996e667ddd26c493"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#a81cb864fb997019e996e667ddd26c493">pci_header_t::subsys_id</a></div><div class="ttdeci">uint16_t subsys_id</div><div class="ttdoc">???</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00066">pci.h:66</a></div></div>
<div class="ttc" id="astructpci__header__t_html_a8d48dac06bef0723bce81846b48d9c63"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#a8d48dac06bef0723bce81846b48d9c63">pci_header_t::bist</a></div><div class="ttdeci">uint8_t bist</div><div class="ttdoc">Тип заголовка (???)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00062">pci.h:62</a></div></div>
<div class="ttc" id="astructpci__header__t_html_ab01c6e281b316b1770d5646f3d3101c4"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#ab01c6e281b316b1770d5646f3d3101c4">pci_header_t::revision</a></div><div class="ttdeci">uint8_t revision</div><div class="ttdoc">ID-Устройства</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00055">pci.h:55</a></div></div>
<div class="ttc" id="astructpci__header__t_html_ab8598cf170c4ba14dea81a515c54a9e6"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#ab8598cf170c4ba14dea81a515c54a9e6">pci_header_t::prog_if</a></div><div class="ttdeci">uint8_t prog_if</div><div class="ttdoc">ID-Реверсии</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00056">pci.h:56</a></div></div>
<div class="ttc" id="astructpci__header__t_html_ad2d7aee2e9a6dc39ce23b6933f83a47a"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#ad2d7aee2e9a6dc39ce23b6933f83a47a">pci_header_t::bar</a></div><div class="ttdeci">uint32_t bar[6]</div><div class="ttdoc">БИСТ (???) BIST.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00063">pci.h:63</a></div></div>
<div class="ttc" id="astructpci__header__t_html_ad3387176ec04a336a49954c6678fb0b8"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#ad3387176ec04a336a49954c6678fb0b8">pci_header_t::int_line</a></div><div class="ttdeci">uint8_t int_line</div><div class="ttdoc">Зарезервированный</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00071">pci.h:71</a></div></div>
<div class="ttc" id="astructpci__header__t_html_adc401e0e7465eda38f9444eeb6169a10"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#adc401e0e7465eda38f9444eeb6169a10">pci_header_t::device_id</a></div><div class="ttdeci">uint16_t device_id</div><div class="ttdoc">ID-Поставщика</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00054">pci.h:54</a></div></div>
<div class="ttc" id="astructpci__header__t_html_ae673672452e4741c4ab7c174af880a87"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#ae673672452e4741c4ab7c174af880a87">pci_header_t::reserved2</a></div><div class="ttdeci">uint32_t reserved2</div><div class="ttdoc">Зарезервированный</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00070">pci.h:70</a></div></div>
<div class="ttc" id="astructpci__header__t_html_ae9e750420392a17bc12305398622c50d"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#ae9e750420392a17bc12305398622c50d">pci_header_t::cardbus_cis_ptr</a></div><div class="ttdeci">uint32_t cardbus_cis_ptr</div><div class="ttdoc">???</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00064">pci.h:64</a></div></div>
<div class="ttc" id="astructpci__header__t_html_aea9601801e5892f8744c06c56586cd58"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#aea9601801e5892f8744c06c56586cd58">pci_header_t::class_id</a></div><div class="ttdeci">uint8_t class_id</div><div class="ttdoc">Подкатегория устройства</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00058">pci.h:58</a></div></div>
<div class="ttc" id="astructpci__header__t_html_af375eca62d4311018eca701cf7d128e7"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#af375eca62d4311018eca701cf7d128e7">pci_header_t::int_pin</a></div><div class="ttdeci">uint8_t int_pin</div><div class="ttdoc">Линия прерывания</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00072">pci.h:72</a></div></div>
<div class="ttc" id="astructpci__header__t_html_af4cccb179cc4d33058713c1ace3ab78d"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#af4cccb179cc4d33058713c1ace3ab78d">pci_header_t::expansion_rom</a></div><div class="ttdeci">uint32_t expansion_rom</div><div class="ttdoc">???</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00067">pci.h:67</a></div></div>
<div class="ttc" id="astructpci__header__t_html_afb7bfbdce590742fe0f4cbff32ce984b"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#afb7bfbdce590742fe0f4cbff32ce984b">pci_header_t::subsys_vendor</a></div><div class="ttdeci">uint16_t subsys_vendor</div><div class="ttdoc">Базовый адрес CardBus Socket/ExCa.</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00065">pci.h:65</a></div></div>
<div class="ttc" id="astructpci__header__t_html_affa857d10f1958fe0d39fd2cb8ac8cf0"><div class="ttname"><a href="../../d7/d00/structpci__header__t.html#affa857d10f1958fe0d39fd2cb8ac8cf0">pci_header_t::capatibilities</a></div><div class="ttdeci">uint8_t capatibilities</div><div class="ttdoc">???</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d97/pci_8h_source.html#l00068">pci.h:68</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_dc43877d82dd332f9fb2071fcca799d6.html">kernel</a></li><li class="navelem"><a class="el" href="../../dir_009f605b833ac4622acd6c3c0c26c0f0.html">include</a></li><li class="navelem"><a class="el" href="../../dir_10a9efac6b88e559a53b8b01b99bfe83.html">drv</a></li><li class="navelem"><b>pci.h</b></li>
    <li class="footer">Документация по SayoriOS. Последние изменения: Вс 8 Дек 2024 11:15:21. Создано системой <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
